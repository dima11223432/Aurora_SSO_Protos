syntax = "proto3";

package auth.v1;

option go_package = "sso/v1";

service AuthService {
  rpc IsAdmin(IsAdminRequest) returns (IsAdminResponse);
  rpc SetPriorityChannels(SetPriorityChannelsRequest) returns (SetPriorityChannelsResponse); 
  rpc Login(LoginRequest) returns (LoginResponse);
}

message SetPriorityChannelsRequest {
  int64 user_id = 1;
  repeated string channels_usernames = 2;
}

message SetPriorityChannelsResponse {
  int32 status = 1;
}

message LoginRequest {
  int64 telegram_id = 1;
  string username = 2;
  string first_name = 3;
  string last_name = 4;
  bool is_admin = 5;
  int64 app_id = 6;
}

message LoginResponse {
  string token = 1;
}

message IsAdminRequest {
  int64 telegram_id = 1;
}

message IsAdminResponse {
  bool is_admin = 1;
}


